<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Signup</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background:cyan;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}
.form{
    background:white;
    padding:25px;
    width:100%;
    max-width:450px;
    border-radius:15px;
    box-shadow:0 0 10px rgba(0,0,0,0.4);
}
.error{
    color:red;
    font-size:0.85rem;
}
</style>
</head>

<body>

<form class="form" onsubmit="return signupValidate()">
<h3 class="text-center mb-3">Signup</h3>

<input type="text" id="name" class="form-control mb-2" placeholder="Full Name">
<input type="text" id="email" class="form-control mb-2" placeholder="Email">
<input type="text" id="phone" class="form-control mb-2" placeholder="Phone Number">
<input type="text" id="city" class="form-control mb-2" placeholder="City">


<div class="input">
<input type="password" id="password" class="form-control" placeholder="Password"><br>
</div>

<div class="input">
<input type="password" id="confirm" class="form-control" placeholder="Confirm Password"><br>
</div>

<button type="submit" class="btn btn-success">Register</button>

<p class="text">
Already registered? <a href="signin.html">Sign In</a>
</p>
</form>

<script>
const API_URL = "https://6962f4042d146d9f58d26680.mockapi.io/validation";

function signupValidate() {
    let name = document.getElementById("name").value;
    let email = document.getElementById("email").value;
    let phone = document.getElementById("phone").value;
    let city = document.getElementById("city").value;
    let password = document.getElementById("password").value;
    let confirm = document.getElementById("confirm").value;

   
    let passPattern = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/;


    if (!name || !email || !phone || !city || !password || !confirm) {
        alert("All fields are mandatory");
        return false;
    }
   
    if (!passPattern.test(password)) {
        alert("Password must be 8 characters with letters & numbers");
        return false;
    }
    if (password !== confirm) {
        alert("Passwords do not match");
        return false;
    }

    fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            name,
            email,
            phone,
            city,
            password
        })
    })
    .then(res => res.json())
    .then(() => {
        alert("Signup successful!");
        window.location.href = "signin.html";
    });

    return false;
}
</script>


</body>
</html>
